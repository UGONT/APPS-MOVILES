<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Registro</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="fondo">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">registro</ion-title>
    </ion-toolbar>
  </ion-header>
  <div id="container">
    <ion-card>
      <ion-card-content>
        <form [formGroup]="formularioRegistro" (ngSubmit)="enviarFormulario()">


          <ion-input label="Usuario: " formControlName="usuario" labelPlacement="floating" [counter]="true"></ion-input>
          <ion-text color="danger" *ngIf="formularioRegistro.get('usuario')?.invalid && formularioRegistro.get('usuario')?.touched">
            El nombre es obligatorio.
          </ion-text>

          <ion-input label="Correo: " formControlName="correo" labelPlacement="floating" [counter]="true"></ion-input>

          <ion-input id="custom-input" formControlName="password" type="password" label="Contraseña: "
            labelPlacement="floating" [counter]="true">
          </ion-input>
          <ion-text color="danger" *ngIf="formularioRegistro.get('password')?.hasError('required') && formularioRegistro.get('password')?.touched">
            La contraseña es obligatoria y debe tener al menos 8 caracteres.
          </ion-text>
          

          <ion-input id="custom-input" formControlName="confirmacionPassword" type="password"
            label="Repetir contraseña: " labelPlacement="floating" [counter]="true">
          </ion-input>
          

          <ion-item>
            <ion-label style="color: red;">{{mensaje}}</ion-label>
          </ion-item>

          <ion-item>
            <ion-button class="btn-registrar" type="submit" size="default">Registrarse</ion-button>
          </ion-item>

          <ion-item *ngIf="barra">
            <mat-progress-bar mode="indeterminate"></mat-progress-bar>
          </ion-item>


        </form>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>